import{r as i,u as C,a as j,j as e,g as y,z as s}from"./main-j1OiTcpV.js";import{C as n,a as f,b as g,c as l,B as d,I as N}from"./input-Dow8xk_E.js";function k(){const[r,m]=i.useState(""),[o,t]=i.useState(!1),x=C(j.rooms.createRoom),p=async()=>{t(!0);try{const a=y(),c=await x({leaderId:a}),h=`${window.location.origin}/room/${c.code}`;m(h),s.success(`Room created! Code: ${c.code}`)}catch(a){s.error("Failed to create room"),console.error("Error creating room:",a)}finally{t(!1)}},u=async()=>{if(r)try{await navigator.clipboard.writeText(r),s.success("Link copied to clipboard!")}catch(a){s.error("Failed to copy to clipboard"),console.error("Error copying to clipboard:",a)}};return e.jsx("div",{className:"p-8 max-w-md mx-auto",children:e.jsxs(n,{children:[e.jsx(f,{children:e.jsx(g,{className:"text-2xl",children:"ðŸŽ­ Welcome to Mafia Game!"})}),e.jsxs(l,{className:"space-y-4",children:[e.jsx(d,{onClick:p,disabled:o,className:"w-full",size:"lg",children:o?"Creating...":"ðŸš€ Create New Room"}),r&&e.jsx(n,{className:"mt-4",children:e.jsxs(l,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Share this link:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{type:"text",value:r,readOnly:!0,className:"flex-1 text-sm"}),e.jsx(d,{onClick:u,variant:"secondary",size:"sm",children:"ðŸ“‹ Copy"})]})]})})]})]})})}export{k as component};
